<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<!doctype html>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<html lang="en">
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<head>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<meta charset="utf-8" />
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<title>GoodWave Staking — Devnet Live Demo</title>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<style>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  :root { --bg:#0b1220; --panel:#0f1830; --text:#e7eeff; --muted:#8aa1c7; --accent:#3b82f6; }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  html,body{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial;}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .wrap{max-width:1000px;margin:42px auto;padding:0 20px;}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  h1{font-weight:800;letter-spacing:.3px;margin:0 0 12px;}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .kpis{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin:14px 0 18px;}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .card{background:var(--panel);border-radius:14px;padding:16px 18px;box-shadow:0 2px 18px rgba(0,0,0,.25)}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .k{font-size:13px;color:var(--muted);margin-bottom:6px}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .v{font-size:22px;font-weight:750}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .live{margin:8px 0 18px;font-size:13px;color:#86efac}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .legend{display:flex;gap:14px;font-size:13px;color:var(--muted);margin:10px 0 6px}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .dot{width:10px;height:10px;border-radius:50%}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .row{display:flex;align-items:center;gap:10px}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  canvas{background:#0a1327;border-radius:14px}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  a{color:#9cc2ff;text-decoration:none}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .muted{color:var(--muted)}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
</style>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
</head>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<body>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  <div class="wrap">
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    <h1>🌊 GoodWave Staking — Devnet Live Demo</h1>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    <div class="kpis">
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      <div class="card"><div class="k">Total Staked</div><div class="v" id="kpi-staked">— GWAVE</div></div>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      <div class="card"><div class="k">Total Earned</div><div class="v" id="kpi-earned">— GWAVE</div></div>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      <div class="card"><div class="k">Total Fees Earned</div><div class="v" id="kpi-fees">— GWAVE</div></div>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    </div>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    <div class="live" id="kpi-live">LIVE • waiting for data…</div>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    <div class="legend">
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      <div class="row"><div class="dot" style="background:#60a5fa"></div><span>Staked</span></div>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      <div class="row"><div class="dot" style="background:#34d399"></div><span>Earned</span></div>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      <div class="row"><div class="dot" style="background:#f59e0b"></div><span>Fees (cumulative)</span></div>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    </div>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    <div class="card"><canvas id="gw-chart" height="120"></canvas></div>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    <p class="muted" style="margin-top:14px">
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      Updates every ~60s from <code>docs/data/index.json</code> and <code>docs/data/pool.json</code>.
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      Source: <a href="./">repo</a>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    </p>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  </div>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<script>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
const fmt = n => Number(n ?? 0).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:6});
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
const $ = sel => document.querySelector(sel);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
const cacheBust = () => `?ts=${Date.now()}`;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
async function jget(path){ const r = await fetch(`data/${path}${cacheBust()}`, {cache:'no-store'}); if(!r.ok) throw new Error(path+': '+r.status); return r.json(); }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
let chart;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
function ensureChart(labels, staked, earned, fees){
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const ctx = document.getElementById('gw-chart').getContext('2d');
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  if (chart) { chart.data.labels = labels; chart.data.datasets[0].data = staked; chart.data.datasets[1].data = earned; chart.data.datasets[2].data = fees; chart.update(); return; }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  chart = new Chart(ctx,{
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    type:'line',
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    data:{ labels, datasets:[
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      { label:'Staked', data:staked, borderColor:'#60a5fa', backgroundColor:'rgba(96,165,250,.2)', tension:.25, fill:false },
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      { label:'Earned', data:earned, borderColor:'#34d399', backgroundColor:'rgba(52,211,153,.2)', tension:.25, fill:false },
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      { label:'Fees',   data:fees,   borderColor:'#f59e0b', backgroundColor:'rgba(245,158,11,.2)', tension:.25, fill:false },
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    ]},
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    options:{
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      responsive:true,
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      animation:false,
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      plugins:{ legend:{display:false}},
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      scales:{
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
        x:{ ticks:{ color:'#8aa1c7' }, grid:{ color:'rgba(255,255,255,.06)'} },
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
        y:{ ticks:{ color:'#8aa1c7' }, grid:{ color:'rgba(255,255,255,.06)'} }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  });
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
function age(tsIso){
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const now = Date.now(), then = Date.parse(tsIso||Date.now());
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const s = Math.max(0,Math.round((now-then)/1000));
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  return s + 's ago';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
async function refresh(){
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  try{
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    // pool.json has the freshest KPIs
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const pool = await jget('pool.json');
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    $('#kpi-staked').textContent = `${fmt(pool.total_staked)} GWAVE`;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    $('#kpi-earned').textContent = `${fmt(pool.total_earned)} GWAVE`;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    $('#kpi-fees').textContent   = `${fmt(pool.fees_total)} GWAVE`;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    $('#kpi-live').textContent   = `LIVE • updated ${age(pool.ts)}`;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    // index.json for historical lines
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const idx = await jget('index.json');
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const points = Array.isArray(idx.points) ? idx.points : [];
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const labels = points.map((p,i)=> p.ts || i+1);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const staked = points.map(p => Number(p.total_staked||0));
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const earned = points.map(p => Number(p.total_earned||0));
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const fees   = points.map((_,i)=> Number(idx.fees_total||0)); // draw as flat/cumulative
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    ensureChart(labels, staked, earned, fees);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  }catch(e){
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    $('#kpi-live').textContent = 'Waiting for data… (auto-retrying)';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    console.error(e);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
refresh();
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
setInterval(refresh, 60000);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
</script>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<!-- GWAVE LIVE PULSE MODULE (drop-in, idempotent) -->
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<style>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .gwave-livebar {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    display:flex; align-items:center; gap:.75rem;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    padding:.5rem .75rem; margin:.75rem 0 1rem 0;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    border-radius:12px; background:#0b1220; color:#d7e3ff;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    border:1px solid rgba(255,255,255,.08);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    font: 500 14px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .gwave-livebar .dot {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    width:10px; height:10px; border-radius:50%;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    background:#22c55e; /* default online */
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    box-shadow:0 0 0 0 rgba(34,197,94,.7);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    animation: pulse 1.6s infinite;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .gwave-livebar.offline .dot { background:#ef4444; box-shadow:0 0 0 0 rgba(239,68,68,.6); }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .gwave-livebar.stale   .dot { background:#f59e0b; box-shadow:0 0 0 0 rgba(245,158,11,.6); }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  @keyframes pulse {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    0%   { box-shadow:0 0 0 0 rgba(34,197,94,.7) }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    70%  { box-shadow:0 0 0 10px rgba(34,197,94,0) }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    100% { box-shadow:0 0 0 0 rgba(34,197,94,0) }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .gwave-livebar.offline @keyframes pulse { /* same timing; color driven by class */ }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .gwave-livebar .label { letter-spacing:.02em; }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  .gwave-livebar .time  { opacity:.85 }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
</style>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<div id="gwave-livebar" class="gwave-livebar" role="status" aria-live="polite">
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  <span class="dot" aria-hidden="true"></span>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  <span class="label">LIVE</span>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  <span class="time">— Updated: <span id="gwave-updated">loading…</span></span>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
</div>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<script>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
(function(){
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const tz = 'Australia/Sydney';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const livebar = document.getElementById('gwave-livebar');
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const upEl    = document.getElementById('gwave-updated');
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  // Insert right under the first H1 if possible (keeps the DOM tidy)
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  try {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const h1 = document.querySelector('h1');
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    if (h1 && livebar && livebar.parentElement !== h1.parentElement) {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      h1.insertAdjacentElement('afterend', livebar);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  } catch {}
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const formatAU = (ts) => {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const d = (typeof ts === 'number') ? new Date(ts*1000) : new Date(ts);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    if (isNaN(d.getTime())) return '—';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    return d.toLocaleString('en-AU', {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      timeZone: tz, hour12: false,
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      year:'numeric', month:'short', day:'2-digit',
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      hour:'2-digit', minute:'2-digit', second:'2-digit'
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    });
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  };
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const ageClass = (updatedMs) => {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    if (!updatedMs) return 'offline';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const age = Date.now() - updatedMs;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    if (age > 5 * 60 * 1000) return 'offline'; // >5m = offline
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    if (age > 90 * 1000)     return 'stale';   // >90s = stale
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    return 'online';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  };
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  // Prefer GH Pages mirror (relative), then fall back to local API
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const REL = 'data/pool.json';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const LOCAL = 'http://127.0.0.1:5199/pool.json';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const fetchWithFallback = async () => {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const tryOne = (url) => fetch(url + (url.includes('?')?'&':'?') + '_cb=' + Date.now(), {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      cache: 'no-store'
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    }).then(r => r.ok ? r.json() : Promise.reject(new Error(r.status)));
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    try {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      try {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
        return await tryOne(REL);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      } catch {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
        return await tryOne(LOCAL);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    } catch (e) {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      return null;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  };
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const update = async () => {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const data = await fetchWithFallback();
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    if (!data) {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      livebar.classList.remove('online','stale'); livebar.classList.add('offline');
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      upEl.textContent = 'connection error';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      return;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    // Common fields: prefer .updated, else .timestamp, else now
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const updated =
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      (data.updated && (typeof data.updated === 'number' || typeof data.updated === 'string'))
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
        ? data.updated
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
        : (data.timestamp || Date.now());
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const updatedMs = (typeof updated === 'number' && updated < 2e12) ? updated*1000 : Number(updated);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    // Set label
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    upEl.textContent = formatAU(updatedMs);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    // Status classes
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    livebar.classList.remove('online','stale','offline');
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    livebar.classList.add(ageClass(updatedMs));
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  };
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  update();
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  setInterval(update, 30000); // 30s refresh
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
})();
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
</script>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<!-- /GWAVE LIVE PULSE MODULE -->
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
<script id="kpi-live-updater">
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
(function(){
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const tz = 'Australia/Sydney';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const el = document.getElementById('kpi-live');
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  if (!el) return;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const formatAU = (ts) => {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const d = (typeof ts === 'number') ? new Date(ts*1000) : new Date(ts);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    if (isNaN(d.getTime())) return '—';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    return d.toLocaleString('en-AU',{
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      timeZone: tz, hour12: false, year:'numeric', month:'short', day:'2-digit',
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      hour:'2-digit', minute:'2-digit', second:'2-digit'
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    });
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  };
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const ageClass = (updatedMs) => {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    if (!updatedMs) return 'offline';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const age = Date.now() - updatedMs;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    if (age > 5*60*1000) return 'offline';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    if (age > 90*1000)   return 'stale';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    return 'online';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  };
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const REL='data/pool.json', LOCAL='http://127.0.0.1:5199/pool.json';
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const fetchWithFallback = async () => {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
      .then(r=>r.ok?r.json():Promise.reject(new Error(r.status)));
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    try { try { return await tryOne(REL); } catch { return await tryOne(LOCAL); } }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    catch { return null; }
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  };
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const paint = (cls, text) => {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    el.classList.remove('online','stale','offline');
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    el.classList.add(cls);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    el.textContent = text;
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  };
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  const tick = async () => {
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const data = await fetchWithFallback();
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    if (!data) return paint('offline','LIVE • connection error');
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const updated = (data.updated ?? data.timestamp ?? Date.now());
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const ms = (typeof updated === 'number' && updated < 2e12) ? updated*1000 : Number(updated);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    const cls = ageClass(ms);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
    paint(cls, `LIVE • Updated: ${formatAU(ms)}`);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  };
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  tick();
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
  setInterval(tick, 30000);
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
})();
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
</script>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
</body>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->
</html>
<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

<!-- GWAVE PILLS MODULE -->
<style>
  .gwave-pills { display:flex; flex-wrap:wrap; gap:.5rem; margin:.5rem 0 1rem; }
  .gw-pill { position:relative; padding:.4rem .6rem; border-radius:999px; font:600 12px/1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:#0f172a; color:#dbeafe; border:1px solid rgba(148,163,184,.25); }
  .gw-pill[data-variant="apy"]{ background:#052e16; color:#bbf7d0; border-color:rgba(74,222,128,.25);}
  .gw-pill[data-variant="lock"]{ background:#1e1b4b; color:#e9d5ff; border-color:rgba(196,181,253,.25);}
  .gw-pill[data-variant="points"]{ background:#0b1220; color:#c7d2fe;}
  .gw-tip { position:absolute; z-index:50; left:50%; transform:translateX(-50%); bottom:calc(100% + 8px);
    white-space:nowrap; padding:.45rem .6rem; border-radius:10px; font:500 12px/1.2 system-ui; background:#111827; color:#e5e7eb;
    border:1px solid rgba(255,255,255,.08); opacity:0; pointer-events:none; transition:opacity .15s ease; }
  .gw-pill:hover .gw-tip{opacity:1}
</style>

<div id="gw-pills" class="gwave-pills" hidden>
  <div class="gw-pill" data-variant="apy" id="pill-apy">APY: <span id="pill-apy-val">—</span>
    <span class="gw-tip">Demo APY from pool/index data (not financial advice)</span>
  </div>
  <div class="gw-pill" data-variant="lock" id="pill-lock">Lock: <span id="pill-lock-val">—</span>
    <span class="gw-tip">Indicative lock period for staking program</span>
  </div>
  <div class="gw-pill" data-variant="points" id="pill-points">Points: <span id="pill-points-val">—</span>
    <span class="gw-tip">Cumulative participation points (demo)</span>
  </div>
  <button id="pill-tokenomics" class="gw-pill" style="cursor:pointer">Tokenomics</button>
</div>

<script>
(async function(){
  const pills = document.getElementById('gw-pills');
  // Anchor: place after #kpi-live if present; else after first h1
  try {
    const kpi = document.getElementById('kpi-live');
    const h1 = document.querySelector('h1');
    if (kpi) kpi.insertAdjacentElement('afterend', pills);
    else if (h1) h1.insertAdjacentElement('afterend', pills);
  } catch {}
  const REL = (p)=>'data/'+p, LOCAL = (p)=>'http://127.0.0.1:5199/'+p;

  const getJSON = async (p)=> {
    const tryOne = (u)=>fetch(u+(u.includes('?')?'&':'?')+'_cb='+Date.now(),{cache:'no-store'})
      .then(r=>r.ok?r.json():Promise.reject());
    try { return await tryOne(REL(p)); } catch { try { return await tryOne(LOCAL(p)); } catch { return null; } }
  };

  const pool = await getJSON('pool.json') || {};
  const idx  = await getJSON('index.json') || {};

  // Points (from index.json if available)
  const pts = (typeof idx.points === 'number') ? idx.points : null;
  // Lock days (optional)
  const lock = (typeof idx.lock_days === 'number') ? idx.lock_days : null;
  // APY: prefer explicit idx.apy else demo from pool totals
  let apy = (typeof idx.apy === 'number') ? idx.apy : null;
  if (apy == null && typeof pool.total_earned === 'number' && typeof pool.total_staked === 'number' && pool.total_staked > 0){
    apy = (pool.total_earned / pool.total_staked) * 100; // lifetime demo %
  }

  // Paint values
  const setOrHide = (id, val, fmt=(x)=>x)=> {
    const el = document.getElementById(id);
    const wrap = el?.closest('.gw-pill');
    if (!el || !wrap) return;
    if (val==null || Number.isNaN(val)) { wrap.style.display='none'; return; }
    el.textContent = fmt(val);
  };

  setOrHide('pill-apy-val', apy, (v)=> (v>=100? v.toFixed(0): v>=10? v.toFixed(1): v.toFixed(2)) + '%');
  setOrHide('pill-lock-val', lock, (v)=> v + ' days');
  setOrHide('pill-points-val', pts,  (v)=> v.toLocaleString('en-AU'));

  // If at least one pill visible, unhide the row
  const visible = [...document.querySelectorAll('#gw-pills .gw-pill')].some(p=>p.style.display!=='none');
  if (visible) pills.hidden = false;

  // Wire Tokenomics button to open modal (inserted by Module B)
  const btn = document.getElementById('pill-tokenomics');
  if (btn) btn.addEventListener('click', ()=> {
    const modal = document.getElementById('gw-tokenomics-modal');
    if (modal) modal.showModal();
  });
})();
</script>
<!-- /GWAVE PILLS MODULE -->

